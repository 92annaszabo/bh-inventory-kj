{{#each items}}
<tr>
    <th class="text-center align-middle">{{this.id}}</th>
    <td class="text-center align-middle">{{this.category_name}}</td>
    <td class="text-center align-middle">
        <button type="button" class="btn btn-info btn-sm" data-id={{this.id}} data-categ_name="{{this.category_name}}"
            onclick="update_category()">Szerkesztés</button>
        <button type="button" class="btn btn-danger btn-sm" data-id={{this.id}} data-categ_name="{{this.category_name}}"
            onclick="delete_categ()">Törlés</button>
    </td>
</tr>
{{/each}}

<script>

    function update_category() {
        const newCategForm = document.querySelector('.new-categs');
        const categId = event.target.dataset.id;
        const categName = event.target.dataset.categ_name;
        newCategForm.action = `/categories/${categId}`;
        $('#new_category').modal();

        document.querySelector('#catName').value = categName;
    }

    function delete_categ() {
        const catId = event.target.dataset.id;
        const categName = event.target.dataset.categ_name;
        const deleteForm = document.querySelector('.delete-categ');
        console.log(document.querySelector('#delete-categ'))
        deleteForm.action = `/categories/del/${catId}`
        $('#delete_cat_modal').modal();
        document.querySelector('.categ-name').textContent = categName;
    }
</script>